name       : freetype2
version    : 2.9
release    : 19
source     :
    - https://download.savannah.gnu.org/releases/freetype/freetype-2.9.tar.gz : bf380e4d7c4f3b5b1c1a7b2bf3abb967bda5e9ab480d0df656e0e08c5019c5e6
license    : GPL-3.0
summary    : Font rendering library
component  : desktop.library
description: |
    The FreeType2 package contains a library which allows applications to properly render TrueType fonts.
autodep    : false
emul32     : yes
optimize   : speed
patterns   :
    - devel :
        - /usr/bin/freetype-config
        - /usr/share/aclocal
        - /usr/share/man/man1
    - subpixel : /usr/share/fonts/enable_subpixel_rendering
builddeps  :
    - pkgconfig32(harfbuzz)
    - pkgconfig32(libpng)
    - pkgconfig32(zlib)
    - bzip2-devel
rundeps    :
    - glibc
    - libpng
    - zlib
    - 32bit :
        - freetype2
        - glibc-32bit
        - libpng-32bit
        - zlib-32bit
    - devel :
        - freetype2
        - zlib-devel
        - libpng-devel
        - harfbuzz-devel
    - 32bit-devel :
        - freetype2-32bit
        - zlib-32bit-devel
        - libpng-32bit-devel
        - harfbuzz-32bit-devel
    - subpixel :
        - freetype2
setup      : |
    %apply_patches
    %configure --disable-static --prefix=/usr
build      : |
    %make
install    : |
    %make_install
    %make clean
    install -D -d -m 00755 $installdir/usr/share/fonts
    echo "The presence of this file will enable subpixel rendering globally" > $installdir/usr/share/fonts/enable_subpixel_rendering
